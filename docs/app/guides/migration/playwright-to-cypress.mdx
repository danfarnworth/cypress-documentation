---
title: 'Migrating from Playwright to Cypress: A Guide'
description: 'Playwright to Cypress migration guide for end-to-end (E2E) testing: locators, actions, assertions, network stubbing, auth, and CI.'
sidebar_label: Migrating from Playwright
---

<ProductHeading product="app" />

# Migrating from Playwright to Cypress

This guide helps you migrate tests from Playwright to Cypress.

::::info

##### <Icon name="question-circle" color="#4BBFD2" /> What you'll learn

- How common Playwright patterns translate to Cypress
- How Cypress retry-ability changes the way you wait
- Network stubbing/mocking with `cy.intercept()`
- How to reuse auth state
- How to handle cross-origin testing and multi-tab workflows
- Generating tests and capturing artifacts
- CI parallelization and Smart Orchestration concepts
- Component Testing comparisons

::::

## Quick conversion example

<Badge type="danger">Before: Playwright</Badge>

```ts
import { test, expect } from '@playwright/test'

test('signs up', async ({ page }) => {
  await page.goto('/signup')
  await page.getByLabel('Email').fill('user@email.com')
  await page.getByLabel('Confirm Email').fill('user@email.com')
  await page.getByLabel('Password').fill('testPassword1234')
  await page.getByRole('button', { name: 'Create new account' }).click()

  await expect(page).toHaveURL(/\/signup\/success$/)
})
```

<Badge type="success">After: Cypress</Badge>

```ts
describe('Authorization', () => {
  it('signs up', () => {
    cy.visit('/signup')
    cy.contains('label', 'Email').find('input').type('user@email.com')
    cy.contains('label', 'Confirm Email').find('input').type('user@email.com')
    cy.contains('label', 'Password').find('input').type('testPassword1234')
    cy.contains('button', 'Create new account').click()

    cy.url().should('match', /\/signup\/success$/)
  })
})
```

## Execution model

Playwright code typically awaits each action. Cypress commands are enqueued and retried automatically.

<Badge type="danger">Before: Playwright</Badge>

```ts
await page.getByTestId('submit').click()
await expect(page.getByTestId('toast')).toHaveText('Saved!')
```

<Badge type="success">After: Cypress</Badge>

```ts
cy.get('[data-testid="submit"]').click()
cy.get('[data-testid="toast"]').should('have.text', 'Saved!')
```

See Cypress's command model in the [Introduction to Cypress](/app/core-concepts/introduction-to-cypress#The-Cypress-Command-Queue).

## Locators / selectors

### Prefer stable selectors

Use a stable selector strategy (often `data-*`) as described in Cypress [Best Practices](/app/core-concepts/best-practices#Selecting-Elements).

<Badge type="danger">Before: Playwright</Badge>

```ts
await page.getByTestId('email').fill('user@email.com')
await page.getByRole('button', { name: 'Sign in' }).click()
```

<Badge type="success">After: Cypress</Badge>

```ts
cy.get('[data-testid="email"]').type('user@email.com')
cy.contains('button', 'Sign in').click()
```

### `getByRole()` / `getByLabel()`

If you want `getByRole()`/`getByLabel()` ergonomics in Cypress, install [Cypress Testing Library](https://github.com/testing-library/cypress-testing-library).

<Badge type="danger">Before: Playwright</Badge>

```ts
await page.getByRole('button', { name: 'Save' }).click()
await page.getByLabel('First name').fill('Jane')
```

<Badge type="success">After: Cypress</Badge>

```ts
cy.findByRole('button', { name: 'Save' }).click()
cy.findByLabelText('First name').type('Jane')
```

## Interactions

### Click / type / clear

<Badge type="danger">Before: Playwright</Badge>

```ts
await page.locator('#username').fill('jane')
await page.locator('#password').fill('secret')
await page.getByRole('button', { name: 'Log in' }).click()
```

<Badge type="success">After: Cypress</Badge>

```ts
cy.get('#username').clear().type('jane')
cy.get('#password').clear().type('secret')
cy.contains('button', 'Log in').click()
```

### Checkboxes / radios / selects

<Badge type="danger">Before: Playwright</Badge>

```ts
await page.getByLabel('Subscribe').check()
await page.getByLabel('Daily').check()
await page.getByLabel('Country').selectOption('US')
```

<Badge type="success">After: Cypress</Badge>

```ts
cy.contains('label', 'Subscribe').find('input[type="checkbox"]').check()
cy.contains('label', 'Daily').find('input[type="radio"]').check()
cy.contains('label', 'Country').find('select').select('US')
```

### Hover

<Badge type="danger">Before: Playwright</Badge>

```ts
await page.getByTestId('menu').hover()
await page.getByRole('menuitem', { name: 'Settings' }).click()
```

<Badge type="success">After: Cypress</Badge>

```ts
cy.get('[data-testid="menu"]').trigger('mouseover')
cy.contains('[role="menuitem"]', 'Settings').click()
```

### Mobile viewport testing

<Badge type="success">Cypress</Badge>

```ts
cy.viewport('iphone-x')
cy.visit('/')
```

See [`cy.viewport()`](/api/commands/viewport).

## Assertions

### Visibility / existence

<Badge type="danger">Before: Playwright</Badge>

```ts
await expect(page.getByText('Welcome')).toBeVisible()
await expect(page.getByTestId('spinner')).toBeHidden()
```

<Badge type="success">After: Cypress</Badge>

```ts
cy.contains('Welcome').should('be.visible')
cy.get('[data-testid="spinner"]').should('not.be.visible')
```

### Text / attributes / URL

<Badge type="danger">Before: Playwright</Badge>

```ts
await expect(page.getByTestId('toast')).toHaveText('Saved!')
await expect(page.getByRole('button', { name: 'Save' })).toBeDisabled()
await expect(page).toHaveURL(/\/dashboard$/)
```

<Badge type="success">After: Cypress</Badge>

```ts
cy.get('[data-testid="toast"]').should('have.text', 'Saved!')
cy.contains('button', 'Save').should('be.disabled')
cy.url().should('match', /\/dashboard$/)
```

See Cypress assertions at [Assertions](/app/references/assertions).

## Waiting, retries, and timeouts

Playwright often uses explicit waits. Cypress will retry most DOM queries and assertions until they pass or time out.

<Badge type="danger">Before: Playwright</Badge>

```ts
await page.getByRole('button', { name: 'Save' }).click()
await page.waitForResponse('**/api/profile')
await expect(page.getByTestId('toast')).toHaveText('Saved!')
```

<Badge type="success">After: Cypress</Badge>

```ts
cy.intercept('POST', '/api/profile').as('saveProfile')
cy.contains('button', 'Save').click()
cy.wait('@saveProfile')
cy.get('[data-testid="toast"]').should('have.text', 'Saved!')
```

Learn more about Cypress retry-ability at [Retry-ability](/app/core-concepts/retry-ability).

## Network spying and stubbing

### Spy

<Badge type="danger">Before: Playwright</Badge>

```ts
const [response] = await Promise.all([
  page.waitForResponse('**/api/users'),
  page.getByRole('button', { name: 'Load users' }).click(),
])
expect(response.ok()).toBeTruthy()
```

<Badge type="success">After: Cypress</Badge>

```ts
cy.intercept('GET', '/api/users').as('users')
cy.contains('button', 'Load users').click()
cy.wait('@users').its('response.statusCode').should('eq', 200)
```

### Stub a response

<Badge type="danger">Before: Playwright</Badge>

```ts
await page.route('**/api/projects', async (route) => {
  await route.fulfill({
    status: 200,
    contentType: 'application/json',
    body: JSON.stringify([{ id: '1' }, { id: '2' }]),
  })
})
```

<Badge type="success">After: Cypress</Badge>

```ts
cy.intercept('GET', '/api/projects', {
  statusCode: 200,
  body: [{ id: '1' }, { id: '2' }],
}).as('projects')
```

### Modify a response

<Badge type="danger">Before: Playwright</Badge>

```ts
await page.route('**/api/profile', async (route) => {
  const response = await route.fetch()
  const json = await response.json()
  json.plan = 'enterprise'
  await route.fulfill({ response, json })
})
```

<Badge type="success">After: Cypress</Badge>

```ts
cy.intercept('GET', '/api/profile', (req) => {
  req.continue((res) => {
    res.body.plan = 'enterprise'
  })
}).as('profile')
```

See [Network Requests](/app/guides/network-requests) and [`cy.intercept()`](/api/commands/intercept).

## Auth state reuse

Playwright commonly reuses auth via `storageState`. In Cypress, use [`cy.session()`](/api/commands/session) to cache cookies and storage between tests.

<Badge type="danger">Before: Playwright</Badge>

```ts
// playwright.config.ts
import { defineConfig } from '@playwright/test'

export default defineConfig({
  use: {
    storageState: 'storageState.json',
  },
})
```

```ts
// auth.setup.ts
import { test as setup } from '@playwright/test'

setup('authenticate', async ({ page }) => {
  await page.goto('/login')
  await page.getByLabel('Username').fill('jane')
  await page.getByLabel('Password').fill('secret')
  await page.getByRole('button', { name: 'Log in' }).click()

  await page.context().storageState({ path: 'storageState.json' })
})
```

<Badge type="success">After: Cypress</Badge>

```ts
const login = () => {
  cy.visit('/login')
  cy.get('#username').type('jane')
  cy.get('#password').type('secret')
  cy.contains('button', 'Log in').click()
}

beforeEach(() => {
  cy.session('jane', login)
})
```

## Cross-origin

Cypress requires `cy.origin()` when interacting with multiple origins in one test.

<Badge type="danger">Before: Playwright</Badge>

```ts
await page.goto('https://site-a.example')
await page.goto('https://site-b.example')
await expect(page.getByRole('banner')).toBeVisible()
```

<Badge type="success">After: Cypress</Badge>

```ts
cy.visit('https://site-a.example')
cy.visit('https://site-b.example')
cy.origin('https://site-b.example', () => {
  cy.get('[role="banner"]').should('be.visible')
})
```

See [`cy.origin()`](/api/commands/origin).

## Multiple tabs / multiple windows

Cypress can use the [`@cypress/puppeteer`](https://www.npmjs.com/package/@cypress/puppeteer) plugin to handle multi-tab workflows.

<Badge type="danger">Before: Playwright</Badge>

```ts
// Start waiting for the new tab before clicking.
const newPagePromise = page.context().waitForEvent('page')
await page.getByText('open new tab').click()
const newPage = await newPagePromise

await newPage.waitForLoadState()
await newPage.getByRole('button', { name: 'Confirm' }).click()
```

<Badge type="success">After: Cypress</Badge>

```ts
// spec.cy.ts
cy.visit('/')
cy.contains('button', 'Open new tab').click()

cy.puppeteer('switchToTabAndGetContent').should(
  'equal',
  'You said: Hello from Page 1'
)
```

```ts
// cypress.config.ts
import { defineConfig } from 'cypress'
import { setup, retry } from '@cypress/puppeteer'

export default defineConfig({
  e2e: {
    setupNodeEvents(on) {
      setup({
        on,
        onMessage: {
          async switchToTabAndGetContent(browser) {
            const page = await retry(async () => {
              const pages = await browser.pages()
              const page = pages.find((p) => p.url().includes('page-2.html'))
              if (!page) throw new Error('Could not find page')
              return page
            })

            await page.bringToFront()
            const paragraph = await page.waitForSelector('p')
            return await page.evaluate((el) => el.textContent, paragraph)
          },
        },
      })
    },
  },
})
```

In your support file, import the command once:

```ts
// cypress/support/e2e.ts
import '@cypress/puppeteer/support'
```

## Test generation

Cypress can generate tests from the runner via [Cypress Studio](/app/guides/cypress-studio).

## Screenshots

<Badge type="danger">Before: Playwright</Badge>

```ts
await page.screenshot({ path: 'after-signup.png' })
await page.locator('[data-testid="toast"]').screenshot({ path: 'toast.png' })
```

<Badge type="success">After: Cypress</Badge>

```ts
cy.screenshot('after-signup')
cy.get('[data-testid="toast"]').screenshot('toast')
```

See [Screenshots and Videos](/app/guides/screenshots-and-videos).

## File upload and downloads

### Upload

<Badge type="danger">Before: Playwright</Badge>

```ts
await page.setInputFiles('input[type="file"]', 'fixtures/avatar.png')
```

<Badge type="success">After: Cypress</Badge>

```ts
cy.get('input[type="file"]').selectFile('cypress/fixtures/avatar.png')
```

See [`cy.selectFile()`](/api/commands/selectfile).

### Downloads

In Cypress, a common approach is to trigger the download, then assert the file exists in the configured downloads folder.

<Badge type="danger">Before: Playwright</Badge>

```ts
const download = await page.waitForEvent('download')
await page.getByRole('button', { name: 'Export CSV' }).click()
const path = await download.path()
```

<Badge type="success">After: Cypress</Badge>

```ts
cy.contains('button', 'Export CSV').click()
cy.readFile('cypress/downloads/export.csv', { timeout: 15000 }).should('exist')
```

See [`cy.readFile()`](/api/commands/readfile).

## API testing

<Badge type="danger">Before: Playwright</Badge>

```ts
// APIRequestContext (Playwright)
const res = await request.get('/api/health')
expect(res.ok()).toBeTruthy()
```

<Badge type="success">After: Cypress</Badge>

```ts
cy.request('/api/health').its('status').should('eq', 200)
```

See [`cy.request()`](/api/commands/request).

## CI parallelization (conceptual mapping)

Playwright often parallelizes via workers and/or sharding. Cypress Cloud parallelizes by spec file.

When you use Cypress Cloud, you can also enable **Smart Orchestration** features to reduce overall CI time and/or cost:

- **Load Balancing**: distributes specs across machines based on **previous run durations** to minimize overall run time. This is different from Playwright's `--shard` approach, which is a fixed split you define up front. See [Load Balancing](/cloud/features/smart-orchestration/load-balancing).
- **Spec Prioritization**: runs specs that failed in the previous run first. See [Spec Prioritization](/cloud/features/smart-orchestration/spec-prioritization).
- **Auto Cancellation**: cancels a run early after failures to avoid spending CI time on a run that canâ€™t pass. See [Auto Cancellation](/cloud/features/smart-orchestration/run-cancellation).

For CI debugging and quality tracking, see:

- [Test Replay](/cloud/features/test-replay)
- [Flaky Test Management](/cloud/features/flaky-test-management)

### Test Replay vs Trace Viewer

<Badge type="danger">Before: Playwright</Badge>

```sh
playwright test --trace on
npx playwright show-trace test-results/**/trace.zip
```

<Badge type="success">After: Cypress</Badge>

```sh
cypress run --record
```

See [Test Replay](/cloud/features/test-replay).

<Badge type="danger">Before: Playwright</Badge>

```sh
playwright test --shard=1/4
```

<Badge type="success">After: Cypress (Cloud)</Badge>

```sh
cypress run --record --parallel
```

See [Parallelization](/cloud/features/smart-orchestration/parallelization).

## Component Testing

Playwright Component Testing is **experimental** and uses a `mount` fixture (for example via `@playwright/experimental-ct-react`). Cypress Component Testing uses `cy.mount()`, typically scaffolded in your Cypress support file.

### Framework and bundler support

|            | Playwright Component Testing                     | Cypress Component Testing                                                                                                                                                                                                            |
| ---------- | ------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Frameworks | Experimental packages for React, Vue, and Svelte | Official mounting libraries for [React](/app/component-testing/react/overview), [Vue](/app/component-testing/vue/overview), [Angular](/app/component-testing/angular/overview), and [Svelte](/app/component-testing/svelte/overview) |
| Bundlers   | Vite                                             | Vite & Webpack                                                                                                                                                                                                                       |

See [Component Testing](/app/component-testing/get-started) for more details.

<Badge type="danger">Before: Playwright</Badge>

```tsx
import { test, expect } from '@playwright/experimental-ct-react'
import { Button } from './Button'

test('renders', async ({ mount }) => {
  const component = await mount(<Button>Save</Button>)
  await expect(component).toContainText('Save')
})
```

<Badge type="success">After: Cypress</Badge>

```tsx
import { Button } from './Button'

describe('Button', () => {
  it('renders', () => {
    cy.mount(<Button>Save</Button>)
    cy.contains('button', 'Save').should('be.visible')
  })
})
```

See [Component Testing](/app/component-testing/get-started) and [`cy.mount()`](/api/commands/mount).

## Cheat sheet

| Playwright                                                       | Cypress                                                              |
| ---------------------------------------------------------------- | -------------------------------------------------------------------- |
| `await page.goto('/path')`                                       | `cy.visit('/path')`                                                  |
| `page.locator('css')`                                            | `cy.get('css')`                                                      |
| `page.getByTestId('x')`                                          | `cy.get('[data-testid=\"x\"]')`                                      |
| `await locator.click()`                                          | `cy.get(...).click()`                                                |
| `await locator.fill('text')`                                     | `cy.get(...).clear().type('text')`                                   |
| `await expect(locator).toHaveText('Saved!')`                     | `cy.get(...).should('have.text', 'Saved!')`                          |
| `await expect(locator).toHaveAttribute('aria-expanded', 'true')` | `cy.get(...).should('have.attr', 'aria-expanded', 'true')`           |
| `await expect(locator).toBeChecked()`                            | `cy.get(...).should('be.checked')`                                   |
| `await expect(locator).toBeDisabled()`                           | `cy.get(...).should('be.disabled')`                                  |
| `await expect(locator).toBeVisible()`                            | `cy.get(...).should('be.visible')`                                   |
| `await expect(page).toHaveURL(/re/)`                             | `cy.url().should('match', /re/)`                                     |
| `page.getByRole('button', { name: 'Save' })`                     | `cy.findByRole('button', { name: 'Save' })`                          |
| `page.route('**/api', ...)`                                      | `cy.intercept('/api', ...)`                                          |
| `await page.waitForResponse(...)`                                | `cy.intercept(...).as('x'); cy.wait('@x')`                           |
| `await page.setInputFiles('input[type=file]', 'file.png')`       | `cy.get('input[type=file]').selectFile('file.png')` |
| `use: { storageState: 'state.json' }`                            | `cy.session('user', login)`                                          |
